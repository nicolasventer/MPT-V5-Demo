import{u as e,k as B,r as L,e as g,x as te,h as re,f as ae,H as ie,V as _,s as ne,A as I,T as le}from"./index.js";import{d as oe,e as S,D as de,h as se,E as ce,S as he,i as pe,V as ue,j as Te,k as me,f as w,P as C}from"./MissionCard.chunk.js";import{a as ye,u as fe,C as be,b as u,S as ve}from"./ShowMoreFinishedButton.chunk.js";import{f as R,u as k,B as z,a as O,c as E,b as A}from"./Input.chunk.js";import"./Switch.chunk.js";const[ge,Se]=oe("Table component was not found in the tree");var f={table:"m_b23fa0ef",th:"m_4e7aa4f3",tr:"m_4e7aa4fd",td:"m_4e7aa4ef",tbody:"m_b2404537",thead:"m_b242d975",caption:"m_9e5a3ac7",scrollContainer:"m_a100c15",scrollContainerInner:"m_62259741"};function we(t,i){if(!i)return;const a={};return i.columnBorder&&t.withColumnBorders&&(a["data-with-column-border"]=!0),i.rowBorder&&t.withRowBorders&&(a["data-with-row-border"]=!0),i.striped&&t.striped&&(a["data-striped"]=t.striped),i.highlightOnHover&&t.highlightOnHover&&(a["data-hover"]=!0),i.captionSide&&t.captionSide&&(a["data-side"]=t.captionSide),i.stickyHeader&&t.stickyHeader&&(a["data-sticky"]=!0),a}function T(t,i){const a=`Table${t.charAt(0).toUpperCase()}${t.slice(1)}`,o=R((d,c)=>{const s=k(a,{},d),{classNames:n,className:h,style:l,styles:m,...p}=s,y=Se();return e(z,{component:t,ref:c,...we(y,i),...y.getStyles(t,{className:h,classNames:n,style:l,styles:m,props:s}),...p})});return o.displayName=`@mantine/core/${a}`,o.classes=f,o}const x=T("th",{columnBorder:!0}),M=T("td",{columnBorder:!0}),b=T("tr",{rowBorder:!0,striped:!0,highlightOnHover:!0}),$=T("thead",{stickyHeader:!0}),W=T("tbody"),j=T("tfoot"),F=T("caption",{captionSide:!0});function H({data:t}){return e(B,{children:[t.caption&&e(F,{children:t.caption}),t.head&&e($,{children:e(b,{children:t.head.map((i,a)=>e(x,{children:i},a))})}),t.body&&e(W,{children:t.body.map((i,a)=>e(b,{children:i.map((o,d)=>e(M,{children:o},d))},a))}),t.foot&&e(j,{children:e(b,{children:t.foot.map((i,a)=>e(x,{children:i},a))})})]})}H.displayName="@mantine/core/TableDataRenderer";const Ce={type:"scrollarea"},xe=E((t,{minWidth:i,type:a})=>({scrollContainer:{"--table-min-width":L(i),"--table-overflow":a==="native"?"auto":void 0}})),D=R((t,i)=>{const a=k("TableScrollContainer",Ce,t),{classNames:o,className:d,style:c,styles:s,unstyled:n,vars:h,children:l,minWidth:m,type:p,...y}=a,v=O({name:"TableScrollContainer",classes:f,props:a,className:d,style:c,classNames:o,styles:s,unstyled:n,vars:h,varsResolver:xe,rootSelector:"scrollContainer"});return e(z,{component:p==="scrollarea"?ye:"div",...p==="scrollarea"?{offsetScrollbars:"x"}:{},ref:i,...v("scrollContainer"),...y,children:e("div",{...v("scrollContainerInner"),children:l})})});D.classes=f;D.displayName="@mantine/core/TableScrollContainer";const Be={withRowBorders:!0,verticalSpacing:7},Re=E((t,{layout:i,captionSide:a,horizontalSpacing:o,verticalSpacing:d,borderColor:c,stripedColor:s,highlightOnHoverColor:n,striped:h,highlightOnHover:l,stickyHeaderOffset:m,stickyHeader:p})=>({table:{"--table-layout":i,"--table-caption-side":a,"--table-horizontal-spacing":A(o),"--table-vertical-spacing":A(d),"--table-border-color":c?g(c,t):void 0,"--table-striped-color":h&&s?g(s,t):void 0,"--table-highlight-on-hover-color":l&&n?g(n,t):void 0,"--table-sticky-header-offset":p?L(m):void 0}})),r=R((t,i)=>{const a=k("Table",Be,t),{classNames:o,className:d,style:c,styles:s,unstyled:n,vars:h,horizontalSpacing:l,verticalSpacing:m,captionSide:p,stripedColor:y,highlightOnHoverColor:v,striped:P,highlightOnHover:U,withColumnBorders:Y,withRowBorders:Z,withTableBorder:q,borderColor:ze,layout:He,variant:G,data:N,children:J,stickyHeader:K,stickyHeaderOffset:De,mod:Q,tabularNums:X,...ee}=a,V=O({name:"Table",props:a,className:d,style:c,classes:f,classNames:o,styles:s,unstyled:n,rootSelector:"table",vars:h,varsResolver:Re});return e(ge,{value:{getStyles:V,stickyHeader:K,striped:P===!0?"odd":P||void 0,highlightOnHover:U,withColumnBorders:Y,withRowBorders:Z,captionSide:p||"bottom"},children:e(z,{component:"table",variant:G,ref:i,mod:[{"data-with-table-border":q,"data-tabular-nums":X},Q],...V("table"),...ee,children:J||!!N&&e(H,{data:N})})})});r.classes=f;r.displayName="@mantine/core/Table";r.Td=M;r.Th=x;r.Tr=b;r.Thead=$;r.Tbody=W;r.Tfoot=j;r.Caption=F;r.ScrollContainer=D;r.DataRenderer=H;const ke=te(({mission:t,index:i})=>{const[a,o]=re(!0);return ae(()=>{const d=setTimeout(()=>o(!1),200);return()=>clearTimeout(d)}),a?e(r.Td,{colSpan:11,children:e("div",{style:{position:"relative",height:80,display:"flex",justifyContent:"center",alignItems:"center"},children:e(ie,{gap:20,children:[e(S,{style:{fontSize:"20px"},children:"Start time"}),e(S,{style:{fontSize:"40px"},children:t.startTime})]})})}):e(B,{children:[e(r.Td,{children:e(_,{gap:3,children:[e(de,{index:i}),e(se,{mission:t,position:"bottom"})]})}),e(r.Td,{children:e(ce,{missionStatus:t.missionStatus})}),e(r.Td,{children:e(he,{service:{limo:t.limo,short:t.service??""}})}),e(r.Td,{children:e(pe,{layout:"vertical",date:t.date,startTime:t.startTime,endTime:t.endTime})}),e(r.Td,{children:e(ue,{departure:t.departure,steps:t.steps_,arrival:t.arrival})}),e(r.Td,{children:e(Te,{passengers:t.passengers})}),e(r.Td,{children:e(_,{gap:3,children:[e(S,{size:ne.value,children:t.driverName}),e(me,{mission:t})]})}),e(r.Td,{style:{textWrap:"nowrap"},children:[t.vehicle,e("br",{}),t.licensePlate]}),e(r.Td,{children:t.client}),e(r.Td,{children:t.clientMisRef_}),e(r.Td,{children:t.limo})]})}),Ae=()=>{var h;const t=I(null),i=I(null),a=le(()=>document.getElementById("scroll-root"),[]),{rowVirtualizer:o,expandedVirtualizeItems:d,startExpandedIndex:c}=fe({count:w.value.length,getScrollElement:()=>a,estimateSize:()=>66,overscan:2,extraItemCount:30}),s=o.getVirtualItems()[0],n=[];for(const l of((h=i.current)==null?void 0:h.children)??[])n.push(l.clientWidth);return t.current&&(a==null?void 0:a.scrollLeft)!==void 0&&(t.current.scrollLeft=a.scrollLeft),e(B,{children:[((s==null?void 0:s.start)??0)>1200&&e("div",{ref:t,style:{position:"fixed",top:0,overflow:"hidden",zIndex:231,paddingLeft:16,width:"calc(100% - 32px)"},children:e(r,{style:{width:"max-content"},withRowBorders:!1,children:e(r.Thead,{children:e(r.Tr,{style:{backgroundColor:"var(--mantine-color-body)"},children:[e(r.Th,{style:{width:n[0]},children:"Action"}),e(r.Th,{style:{width:n[1]},children:"Status"}),e(C,{withArrow:!0,position:"top",withinPortal:!1,children:[e(C.Target,{children:e(r.Th,{style:{width:n[2]},children:"S.."})}),e(C.Dropdown,{children:"Services"})]}),e(r.Th,{style:{width:n[3]},children:"Date & Time"}),e(r.Th,{style:{width:n[4]},children:"Route"}),e(r.Th,{style:{width:n[5]},children:"Passengers"}),e(r.Th,{style:{width:n[6]},children:"Driver"}),e(r.Th,{style:{width:n[7]},children:"Vehicle"}),e(r.Th,{style:{width:n[8]},children:"Client"}),e(r.Th,{style:{width:n[9]},children:"Reference"}),e(r.Th,{style:{width:n[10]},children:"Limo"})]})})})}),e("div",{style:{margin:"0 16px",position:"sticky",left:16},children:e(be,{})}),e("div",{style:{margin:"0 16px",height:o.getTotalSize(),width:"calc(100vw - 52px)"},children:e(r,{stickyHeader:!0,stickyHeaderOffset:0,striped:!0,withRowBorders:!0,withColumnBorders:!0,highlightOnHover:!0,verticalSpacing:2,children:[e(r.Thead,{style:{zIndex:230},children:e(r.Tr,{ref:i,children:[e(r.Th,{children:"Action"}),e(r.Th,{children:e(u,{sortCategory:"status",children:"Status"})}),e(r.Th,{children:e(u,{sortCategory:"service",children:"S.."})}),e(r.Th,{p:0,children:e(u,{sortCategory:"date",children:"Date & Time"})}),e(r.Th,{children:"Route"}),e(r.Th,{children:e(u,{sortCategory:"passengers",children:"Passengers"})}),e(r.Th,{children:e(u,{sortCategory:"driver",children:"Driver"})}),e(r.Th,{children:"Vehicle"}),e(r.Th,{children:e(u,{sortCategory:"client",children:"Client"})}),e(r.Th,{children:"Reference"}),e(r.Th,{children:e(u,{sortCategory:"limo",children:"Limo"})})]})}),e(r.Tbody,{children:[e(r.Tr,{children:e(r.Td,{colSpan:11,children:e("div",{style:{position:"sticky",left:26,width:"calc(100vw - 52px)"},children:e(ve,{})})})}),d.current.map(l=>e(r.Tr,{style:{height:l.size,transform:`translateY(${l.start-(l.index-c)*l.size}px)`},children:w.value[l.index]&&e(ke,{mission:w.value[l.index],index:l.index})},l.key))]})]})})]})};export{Ae as CoordinatorTableView};
