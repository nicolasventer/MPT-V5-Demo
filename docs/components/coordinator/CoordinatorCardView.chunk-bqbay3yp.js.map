{
  "version": 3,
  "sources": ["..\\src\\components\\coordinator\\CoordinatorCardView.tsx"],
  "sourcesContent": [
    "import { Button } from \"@mantine/core\";\r\nimport { computed } from \"@preact/signals\";\r\nimport { memo, useMemo, useRef } from \"preact/compat\";\r\nimport type { VIEWS as _VIEWS } from \"../../Common/CommonModel\";\r\nimport { MissionCard } from \"../../components/coordinator/MissionCard\";\r\nimport { tripleExampleMissions } from \"../../context/data\";\r\nimport { compactXsSm, globalState } from \"../../context/GlobalState\";\r\nimport { BasicCoordinatorMission } from \"../../context/types\";\r\nimport { Horizontal, Vertical } from \"../../utils/ComponentToolbox\";\r\nimport { useExtraVirtualizer } from \"../../utils/virtualizerUtils\";\r\nimport { CoordinatorFilterZone } from \"./CoordinatorFilterZone\";\r\n\r\nconst sliceArray = <T,>(array: T[], size: number) => {\r\n\tconst result = [];\r\n\tfor (let i = 0; i < array.length; i += size) result.push(array.slice(i, i + size));\r\n\treturn result;\r\n};\r\n\r\nconst cardRowCount = computed(() => Math.max(Math.floor(globalState.viewportSize.value.width / 400), 1));\r\n\r\nconst slicedArray = computed(() => sliceArray(tripleExampleMissions.value, cardRowCount.value));\r\n\r\nconst MissionCardChunk = memo(\r\n\t({ missionChunk, chunkIndex }: { missionChunk: (BasicCoordinatorMission & { key: number })[]; chunkIndex: number }) => (\r\n\t\t<Horizontal key={missionChunk[0].key} gap={10} alignItems=\"stretch\" height={\"100%\"}>\r\n\t\t\t{missionChunk.map((mission, index) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tkey={mission.key}\r\n\t\t\t\t\tstyle={{ width: `calc(${100 / cardRowCount.value}% - ${((cardRowCount.value - 1) * 10) / cardRowCount.value}px)` }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MissionCard mission={mission} index={chunkIndex * cardRowCount.value + index} isFull={false} />\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</Horizontal>\r\n\t)\r\n);\r\n\r\n/**\r\n * Renders the coordinator card view, with a {@link CoordinatorFilterZone | filter zone} where you can select the {@link _VIEWS | view}, \\\r\n * a `Show more finished button`, and a list of {@link MissionCard | mission cards}.\r\n * @returns The rendered coordinator card view component.\r\n */\r\nexport const CoordinatorCardView = () => {\r\n\tconst scrollRoot = useMemo(() => document.getElementById(\"scroll-root\"), []);\r\n\tconst listRef = useRef<HTMLDivElement>(null);\r\n\r\n\tconst { rowVirtualizer, expandedVirtualizeItems } = useExtraVirtualizer({\r\n\t\tcount: slicedArray.value.length,\r\n\t\tgetScrollElement: () => scrollRoot,\r\n\t\testimateSize: () => 300,\r\n\t\tscrollMargin: listRef.current?.offsetTop ?? 0,\r\n\t\toverscan: 2,\r\n\t\textraItemCount: 10,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<Vertical gap={10} margin=\"0 16px\">\r\n\t\t\t<CoordinatorFilterZone />\r\n\t\t\t<Button size={compactXsSm.value}>Show more finished</Button>\r\n\t\t\t<Vertical gap={10} ref={listRef} height={rowVirtualizer.getTotalSize()}>\r\n\t\t\t\t{expandedVirtualizeItems.current.map((virtualRow) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tkey={virtualRow.index}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tleft: 16,\r\n\t\t\t\t\t\t\twidth: \"calc(100% - 32px)\",\r\n\t\t\t\t\t\t\theight: virtualRow.size - 10,\r\n\t\t\t\t\t\t\ttransform: `translateY(${virtualRow.start}px)`,\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MissionCardChunk missionChunk={slicedArray.value[virtualRow.index]} chunkIndex={virtualRow.index} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</Vertical>\r\n\t\t</Vertical>\r\n\t);\r\n};\r\n"
  ],
  "mappings": "oQAYA,QAAM,MAAa,KAAK,EAAY,IAAiB,CACpD,IAAM,EAAS,CAAC,EAChB,QAAS,EAAI,EAAG,EAAI,EAAM,OAAQ,GAAK,EAAM,EAAO,KAAK,EAAM,MAAM,EAAG,EAAI,CAAI,CAAC,EACjF,OAAO,GAGF,EAAe,EAAS,IAAM,KAAK,IAAI,KAAK,MAAM,EAAY,aAAa,MAAM,MAAQ,GAAG,EAAG,CAAC,CAAC,EAEjG,EAAc,EAAS,IAAM,EAAW,EAAsB,MAAO,EAAa,KAAK,CAAC,EAExF,EAAmB,EACxB,EAAG,eAAc,gBAChB,EASE,EATF,CAAsC,IAAK,GAAI,WAAW,UAAU,OAAQ,OAA5E,SACE,EAAa,IAAI,CAAC,EAAS,IAC3B,EAKE,MALF,CAEC,MAAO,CAAE,MAAO,QAAQ,IAAM,EAAa,aAAc,EAAa,MAAQ,GAAK,GAAM,EAAa,UAAW,EAFlH,SAIC,EAAC,EAAD,CAAa,QAAS,EAAS,MAAO,EAAa,EAAa,MAAQ,EAAO,OAAQ,IAAvF,qBAA8F,GAHzF,EAAQ,IADd,cAKE,CACF,GARe,EAAa,GAAG,IAAjC,cASE,CAEJ,EAOa,EAAsB,IAAM,CACxC,IAAM,EAAa,EAAQ,IAAM,SAAS,eAAe,aAAa,EAAG,CAAC,CAAC,EACrE,EAAU,EAAuB,IAAI,GAEnC,iBAAgB,2BAA4B,EAAoB,CACvE,MAAO,EAAY,MAAM,OACzB,iBAAkB,IAAM,EACxB,aAAc,IAAM,IACpB,aAAc,EAAQ,SAAS,WAAa,EAC5C,SAAU,EACV,eAAgB,EACjB,CAAC,EAED,OACC,EAoBE,EApBF,CAAU,IAAK,GAAI,OAAO,SAA1B,SAoBE,CAnBD,EAAC,EAAD,wBAAuB,EACvB,EAAqD,EAArD,CAAQ,KAAM,EAAY,MAA1B,oDAAqD,EACrD,EAgBE,EAhBF,CAAU,IAAK,GAAI,IAAK,EAAS,OAAQ,EAAe,aAAa,EAArE,SACE,EAAwB,QAAQ,IAAI,CAAC,IACrC,EAYE,MAZF,CAEC,MAAO,CACN,SAAU,WACV,IAAK,EACL,KAAM,GACN,MAAO,oBACP,OAAQ,EAAW,KAAO,GAC1B,UAAW,cAAc,EAAW,UACrC,EATD,SAWC,EAAC,EAAD,CAAkB,aAAc,EAAY,MAAM,EAAW,OAAQ,WAAY,EAAW,OAA5F,qBAAmG,GAV9F,EAAW,MADjB,cAYE,CACF,GAfF,qBAgBE,IAnBH,qBAoBE",
  "debugId": "B36BCCF859EC7B1964756E2164756E21",
  "names": []
}